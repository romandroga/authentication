(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){e.exports={registrationForm:"RegistrationForm_registrationForm__-UaTY",checkbox:"RegistrationForm_checkbox__28p_E",errorNotification:"RegistrationForm_errorNotification__HpjQc",termsWrapper:"RegistrationForm_termsWrapper__2Y6fO"}},31:function(e,t,n){e.exports={loginForm:"LoginForm_loginForm__1SNtR"}},32:function(e,t,n){e.exports={wrapper:"HomePage_wrapper__4VbIc"}},38:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(28),o=n.n(c),i=(n(38),n(11)),s=n(2),u=n(16),j=n.n(u),l=n(29),b=n(4),p=n(9),m=n.n(p),h=n(13),O="https://morning-everglades-17303.herokuapp.com",g=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],p=i[1],g=Object(a.useState)(""),d=Object(b.a)(g,2),f=d[0],x=d[1],v=Object(a.useState)(""),S=Object(b.a)(v,2),y=S[0],_=S[1],k=Object(a.useState)(""),N=Object(b.a)(k,2),w=N[0],F=N[1],C=Object(a.useState)("Ukraine"),E=Object(b.a)(C,2),I=E[0],R=E[1],D=Object(a.useState)(!1),J=Object(b.a)(D,2),L=J[0],P=J[1],H=Object(a.useState)([]),U=Object(b.a)(H,2),W=U[0],B=U[1],Y=Object(a.useState)(""),M=Object(b.a)(Y,2),Q=M[0],T=M[1],V=Object(s.g)();Object(a.useEffect)((function(){return m.a.get("".concat(O,"/countries/get")).then((function(e){B(e.data)}))}),[]);var q=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T(""),e.next=4,m.a.post("".concat(O,"/registration"),{email:n,login:u,realName:f,password:y,birthDate:w,country:I,timestamp:Date.now()}).then((function(e){return e.data.message?T(e.data.message):(localStorage.setItem("token",JSON.stringify(e.data)),V.push("/home"))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:h.registrationForm,onSubmit:function(e){q(e)},children:[Object(r.jsx)("h1",{children:"Registration form"}),Object(r.jsx)("p",{children:"Please fill in all fields"}),Object(r.jsx)("input",{type:"email",placeholder:"Email...",onChange:function(e){return c(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"Login...",onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("input",{type:"text",placeholder:"Real name...",onChange:function(e){return x(e.target.value)}}),Object(r.jsx)("input",{type:"password",placeholder:"Password...",onChange:function(e){return _(e.target.value)}}),Object(r.jsx)("label",{children:"birth date"}),Object(r.jsx)("input",{type:"date",placeholder:"Birth date...",onChange:function(e){F(e.target.value)}}),Object(r.jsx)("select",{name:"country",id:"country",onChange:function(e){console.log(e.target.value),R(e.target.value)},children:W.map((function(e){return Object(r.jsx)("option",{value:e.countryName,children:e.countryName},Date.now()*Math.random())}))}),Object(r.jsxs)("div",{className:h.termsWrapper,children:[Object(r.jsx)("input",{className:h.checkbox,type:"checkbox",id:"terms",name:"terms",onChange:function(){return P(!L)}}),Object(r.jsx)("label",{htmlFor:"terms",children:"I am agree with terms and conditions"})]}),Q&&Object(r.jsx)("div",{className:h.errorNotification,children:Object(r.jsx)("p",{children:Q})}),Object(r.jsx)("button",{type:"submit",disabled:!(n&&u&&f&&y&&w&&L),children:"Submit"})]})},d=function(){return Object(r.jsx)(g,{})},f=n(31),x=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],j=i[1],l=Object(s.g)();return Object(r.jsxs)("form",{className:f.loginForm,onSubmit:function(e){return function(e){e.preventDefault(),m.a.post("".concat("https://morning-everglades-17303.herokuapp.com","/login"),{loginOrEmail:n,password:u}).then((function(e){e&&localStorage.setItem("token",JSON.stringify(e.data)),l.push("/home")}))}(e)},children:[Object(r.jsx)("input",{type:"text",placeholder:"Login or email",onChange:function(e){return c(e.target.value)}}),Object(r.jsx)("input",{type:"Password",placeholder:"password",onChange:function(e){return j(e.target.value)}}),Object(r.jsx)("button",{type:"submit",children:"Login"})]})},v=function(){return Object(r.jsx)(x,{})},S=n(32),y=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(s.g)(),i=JSON.parse(localStorage.getItem("token"));Object(a.useEffect)((function(){i||o.push("/login"),m.a.post("".concat("https://morning-everglades-17303.herokuapp.com","/registration/confirm"),{token:i}).then((function(e){c(e.data[0])}))}),[]);return n&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:S.wrapper,children:[Object(r.jsx)("h1",{children:"Home page"}),Object(r.jsxs)("p",{children:["Username : ",Object(r.jsx)("span",{children:n.realName})," "]}),Object(r.jsxs)("p",{children:["Email : ",Object(r.jsx)("span",{children:n.email})," "]}),Object(r.jsx)("button",{onClick:function(){return localStorage.removeItem("token"),void o.push("/login")},children:"Logout"})]})})},_=function(){return Object(r.jsx)(i.a,{children:Object(r.jsxs)(s.d,{children:[Object(r.jsx)(s.b,{path:"/home",component:y}),Object(r.jsx)(s.b,{path:"/register",component:d}),Object(r.jsx)(s.b,{path:"/login",component:v}),Object(r.jsx)(s.a,{to:"/register"})]})})};o.a.render(Object(r.jsx)(_,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.a51cc81d.chunk.js.map