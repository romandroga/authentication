{"version":3,"sources":["components/RegistrationForm/RegistrationForm.module.css","components/LoginForm/LoginForm.module.css","pages/HomePage/HomePage.module.css","components/RegistrationForm/RegistrationForm.jsx","pages/RegistrationPage/RegistrationPage.jsx","components/LoginForm/LoginForm.jsx","pages/LoginPage/LoginPage.jsx","pages/HomePage/HomePage.jsx","App.jsx","index.js"],"names":["module","exports","BASE_URL","RegistrationForm","useState","email","setEmail","login","setLogin","realName","setRealName","password","setPassword","birthDate","setBirthDate","country","setCountry","terms","setTerms","countriesList","setCountriesList","error","setError","history","useHistory","useEffect","axios","get","then","res","data","handleSubmit","e","a","preventDefault","post","timestamp","Date","now","message","localStorage","setItem","JSON","stringify","push","className","styles","onSubmit","type","placeholder","onChange","target","value","name","id","console","log","map","elem","countryName","Math","random","htmlFor","disabled","RegistrationPage","LoginForm","loginOrEmail","setLoginOrEmail","LoginPage","HomePage","userData","setUserData","token","parse","getItem","onClick","removeItem","App","path","component","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a51cc81d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"registrationForm\":\"RegistrationForm_registrationForm__-UaTY\",\"checkbox\":\"RegistrationForm_checkbox__28p_E\",\"errorNotification\":\"RegistrationForm_errorNotification__HpjQc\",\"termsWrapper\":\"RegistrationForm_termsWrapper__2Y6fO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"LoginForm_loginForm__1SNtR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"HomePage_wrapper__4VbIc\"};","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport * as styles from \"./RegistrationForm.module.css\";\n\nconst BASE_URL = \"https://morning-everglades-17303.herokuapp.com\"\n\nconst RegistrationForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [login, setLogin] = useState(\"\");\n  const [realName, setRealName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [birthDate, setBirthDate] = useState(\"\");\n  const [country, setCountry] = useState(\"Ukraine\");\n  const [terms, setTerms] = useState(false);\n  const [countriesList, setCountriesList] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const history = useHistory();\n\n  useEffect(() => {\n\n\n\n    return axios.get(`${BASE_URL}/countries/get`).then((res) => {\n      setCountriesList(res.data);\n    });\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setError(\"\");\n\n    await axios\n      .post(`${BASE_URL}/registration`, {\n        email: email,\n        login: login,\n        realName: realName,\n        password: password,\n        birthDate: birthDate,\n        country: country,\n        timestamp: Date.now(),\n      })\n      .then((res) => {\n        if (res.data.message) {\n          return setError(res.data.message);\n        }\n\n        localStorage.setItem(\"token\", JSON.stringify(res.data));\n\n        return history.push(\"/home\");\n      });\n  };\n\n  return (\n    <form\n      className={styles.registrationForm}\n      onSubmit={(e) => {\n        handleSubmit(e);\n      }}\n    >\n      <h1>Registration form</h1>\n      <p>Please fill in all fields</p>\n\n      <input\n        type=\"email\"\n        placeholder={\"Email...\"}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n\n      <input\n        type=\"text\"\n        placeholder={\"Login...\"}\n        onChange={(e) => setLogin(e.target.value)}\n      />\n\n      <input\n        type=\"text\"\n        placeholder={\"Real name...\"}\n        onChange={(e) => setRealName(e.target.value)}\n      />\n\n      <input\n        type=\"password\"\n        placeholder={\"Password...\"}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n\n      <label>birth date</label>\n      <input\n        type=\"date\"\n        placeholder={\"Birth date...\"}\n        onChange={(e) => {\n          setBirthDate(e.target.value);\n        }}\n      />\n\n      <select\n        name=\"country\"\n        id=\"country\"\n        onChange={(e) => {\n          console.log(e.target.value);\n          setCountry(e.target.value);\n        }}\n      >\n        {countriesList.map((elem) => {\n          return (\n            <option key={Date.now() * Math.random()} value={elem.countryName}>\n              {elem.countryName}\n            </option>\n          );\n        })}\n      </select>\n\n      <div className={styles.termsWrapper}>\n        <input\n          className={styles.checkbox}\n          type=\"checkbox\"\n          id=\"terms\"\n          name=\"terms\"\n          onChange={() => setTerms(!terms)}\n        />\n        <label htmlFor=\"terms\">I am agree with terms and conditions</label>\n      </div>\n\n      {error && (\n        <div className={styles.errorNotification}>\n          <p>{error}</p>\n        </div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={\n          !(email && login && realName && password && birthDate && terms)\n        }\n      >\n        Submit\n      </button>\n    </form>\n  );\n};\n\nexport default RegistrationForm;\n","import React from \"react\";\nimport RegistrationForm from \"../../components/RegistrationForm/RegistrationForm\";\n\nconst RegistrationPage = () => {\n  return <RegistrationForm />;\n};\n\nexport default RegistrationPage;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as styles from \"./LoginForm.module.css\";\n\nconst BASE_URL = \"https://morning-everglades-17303.herokuapp.com\"\n\nconst LoginForm = () => {\n  const [loginOrEmail, setLoginOrEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios\n      .post(`${BASE_URL}/login`, { loginOrEmail, password })\n      .then((res) => {\n        if (res) {\n          localStorage.setItem(\"token\", JSON.stringify(res.data));\n        }\n        history.push(\"/home\");\n      });\n  };\n\n  return (\n    <form className={styles.loginForm} onSubmit={(e) => handleSubmit(e)}>\n      <input\n        type=\"text\"\n        placeholder={\"Login or email\"}\n        onChange={(e) => setLoginOrEmail(e.target.value)}\n      />\n\n      <input\n        type=\"Password\"\n        placeholder={\"password\"}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\n\nconst LoginPage = () => {\n  return <LoginForm />;\n};\n\nexport default LoginPage;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport * as styles from \"./HomePage.module.css\";\n\nconst BASE_URL = \"https://morning-everglades-17303.herokuapp.com\"\n\nconst HomePage = () => {\n  const [userData, setUserData] = useState(null);\n\n  const history = useHistory();\n\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n\n  useEffect(() => {\n    if (!token) history.push(\"/login\");\n\n    axios\n      .post(`${BASE_URL}/registration/confirm`, { token })\n      .then((res) => {\n        setUserData(res.data[0]);\n      });\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n  };\n\n  return (\n    userData && (\n      <>\n        <div className={styles.wrapper}>\n          <h1>Home page</h1>\n          <p>\n            Username : <span>{userData.realName}</span>{\" \"}\n          </p>\n          <p>\n            Email : <span>{userData.email}</span>{\" \"}\n          </p>\n\n          <button onClick={() => handleLogout()}>Logout</button>\n        </div>\n      </>\n    )\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport { Route, Switch, BrowserRouter, Redirect } from \"react-router-dom\";\nimport RegistrationPage from \"./pages/RegistrationPage/RegistrationPage\";\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\nimport HomePage from \"./pages/HomePage/HomePage\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/home\" component={HomePage} />\n        <Route path=\"/register\" component={RegistrationPage} />\n        <Route path=\"/login\" component={LoginPage} />\n        <Redirect to=\"/register\" />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}